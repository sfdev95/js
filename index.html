<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS</title>
    <link rel="stylesheet" href="./src/vendor/bootstrap/dist/css/bootstrap.css">
</head>

<body>
    <div class="container">
        <h1>TODO LIST</h1>
        <form class="form-inline">
            <div class="form-group mx-sm-3 mb-2">
                <input type="input" class="js_input form-control" id="inputPassword2" placeholder="Agregar Valor" autocomplete="off">
            </div>
            <button type="submit" class="js_button btn btn-primary mb-2">Agregar</button>
        </form>
        <div id="content">

        </div>
    </div>
    <script>
        let list = [];
        function makeTemplate(value) {
            let template = `<div><span>${value}</span><button type="button" class="btn btn-primary js_edit">Editar</button><button type="button" class="btn btn-danger js_delete">Eliminar</button></div>`;
            return template;
        }

        function agregar() {
            let inputAdd = document.querySelector('.js_input'),
                buttonAdd = document.querySelector('.js_button');

            buttonAdd.addEventListener('click', function (e) {
                e.preventDefault();
                let template = makeTemplate(inputAdd.value);
                list.push(template);
                imprimir();
                inputAdd.value = '';
            })
        }

        function imprimir() {
            let content = document.querySelector('#content');
            content.innerHTML = list.join('');
            addEventdel();
            addEventEdit();
        }

        function addEventdel() {
            let btnDel = document.querySelectorAll('.js_delete');
            btnDel.forEach((element, id) => {
                element.addEventListener('click', function () {
                    list.splice(id, 1);
                    imprimir();
                })
            });
        }

        function addEventEdit() {
            let btnEdit = document.querySelectorAll('.js_edit');
            btnEdit.forEach(function(element, id) {
                element.addEventListener('click', function(){
                    let currentValue = element.closest('div').querySelector('span');
                    let valueModal = prompt('Editar Informacion', currentValue.textContent);
                    let template = makeTemplate(valueModal)
                    console.log('value', modal)
                    //currentValue.innerHTML = modal;
                })
            })
        }

        agregar();
    </script>
</body>

</html>